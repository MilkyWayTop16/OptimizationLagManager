#
#         █▀█ █▀█ ▀█▀ █ █▀▄▀█ █ ▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█ █░░ ▄▀█ █▀▀ █▀▄▀█ ▄▀█ █▄░█ ▄▀█ █▀▀ █▀▀ █▀█
#         █▄█ █▀▀ ░█░ █ █░▀░█ █ █▄ █▀█ ░█░ █ █▄█ █░▀█ █▄▄ █▀█ █▄█ █░▀░█ █▀█ █░▀█ █▀█ █▄█ ██▄ █▀▄
#
#                       ◆ Плагин был написан автором @vkusniy_milkyway специально для
#                   сервера GornaWorld.fun и для Телеграмм-Канала: https://t.me/gornasquad
#                                 (Чтобы пользоваться им могли все)
#
#


# Настройки плагина
settings:

  # Логирование в консоль
  logs-in-console:
    # Включение вывода логов в консоль (true/false)
    # Если false, большинство логов (кроме критических ошибок) не выводятся
    enabled: false

  # Уведомления в консоль о лаг-машинах и падении Тпс сервера
  console-notifications:
    # Включение уведомлений в консоль(true/false)
    enabled: true

# Сообщения плагина
messages:
  no-permission: "&#FB8808▶ &fНедостаточно &#FB8808прав на использование &fданной команды!"
  help:
    - " "
    - " &#FFFF00▶ &fКоманды плагина:"
    - " "
    - "  &#FFFF00◆ /olm reload &f- Перезагрузить плагин"
    - "  &#FFFF00◆ /olm redstonelag (on/off) &f- Включить/Выключить лаг машины"
    - "  &#FFFF00◆ /olm alerts (on/off) (Никнейм) &f- Включить/Выключить уведомления о лаг-машинах"
    - "  &#FFFF00◆ /olm physics (on/off) (fallingblocks/water/lava) &f- Включить/Выключить физику блоков"
    - " "
  reload:
    usage: "&#FFFF00◆ &fПравильное использование: &#FFFF00/olm reload"
    success: "&#FFFF00◆ &#FFF700O&#FFF300p&#FFEF00t&#FFEB00i&#FFE800m&#FFE400i&#FFE000z&#FFDC00a&#FFD800t&#FFD400i&#FFD000o&#FFCC00n&#FFC800L&#FFC400a&#FFC000g&#FFBC00M&#FFB900a&#FFB500n&#FFB100a&#FFAD00g&#FFA900e&#FFA500r &f| &fПлагин &#FFFF00успешно &fперезагружен!"
    error: "&#FB8808▶ Стоп! &fПроизошла неизвестная &#FB8808ошибка &fпри перезагрузке плагина!"
  redstonelag:
    usage: "&#FFFF00◆ &fПравильное использование: &#FFFF00/olm redstonelag (on/off)"
    enabled: "&#FFFF00◆ &fЛаг-машины: &#FFFF00Отключены"
    disabled: "&#FFFF00◆ &fЛаг-машины: &#FFFF00Включены"
    already-enabled: "&#FB8808▶ &fЛаг-машины &#FB8808уже &fотключены!"
    already-disabled: "&#FB8808▶ &fЛаг-машины &#FB8808уже &fвключены!"
    redstone-disabled: "&#FB8808▶ Стоп! &fОптимизация редстоуна &#FB8808отключена &fв конфигурации!"
    error: "&#FB8808▶ Стоп! &fПроизошла неизвестная &#FB8808ошибка &fпри выполнении команды!"
  alerts:
    usage: "&#FFFF00◆ &fПравильное использование: &#FFFF00/olm alerts [on/off] [player]"
    enabled: "&#FFFF00◆ &fУведомления для &#FFFF00{player} &fо лаг-машинах: &#FFFF00Включены"
    disabled: "&#FFFF00◆ &fУведомления для &#FFFF00{player} &fо лаг-машинах: &#FFFF00Отключены"
    already-enabled: "&#FB8808▶ &fУведомления для &#FB8808{player} &fо лаг-машинах &#FB8808уже &fвключены!"
    already-disabled: "&#FB8808▶ &fУведомления для &#FB8808{player} &fо лаг-машинах &#FB8808уже &fотключены!"
    player-not-found: "&#FB8808▶ Стоп! &fИгрок &#FB8808{player} &fне найден!"
    lag-machine-detected:
      - ""
      - " &#FFA500&n▌&r"
      - " &#FFA500&n▌&r    &#FB8808▶ Внимание! &fВозможно обнаружена лаг-машина "
      - " &#FFA500&n▌&r      &fв мире &#FB8808{world} &fна координатах &#FB8808{x} {y} {z}"
      - " &#FFA500&n▌&r "
      - " &#FFA500&n▌&r   &#FB8808◆ &fОна была &#FB8808времено отключена &fсистемой"
      - " &#FFA500&n▌&r               &#FB8808◆ &fУдалено компонентов: &#FB8808{count}"
      - " &#FFA500▌&r"
      - ""
  tps-critical:
    - ""
    - " &#FFA500&n▌&r"
    - " &#FFA500&n▌&r   &#FB8808▶ Внимание! &fТпс сервера &#FB8808упал &fдо &#FB8808критического &fуровня!"
    - " &#FFA500&n▌&r   &#FB8808◆ &fРедстоун-механизмы &#FB8808временно отключёны &fсистемой!"
    - " &#FFA500▌&r   "
    - ""
  tps-restored:
    - ""
    - " &#FFFF00&n▌&r"
    - " &#FFFF00&n▌&r    &#FFFF00▶ &fТпс сервера успешно &#FFFF00восстановлен &fдо &#FFFF00{tps}"
    - " &#FFFF00&n▌&r       &#FFFF00◆ &fРедстоун-механизмы &#FFFF00снова &fработают!"
    - " &#FFFF00▌&r   "
    - ""
  physics:
    usage: "&#FFFF00◆ &fПравильное использование: &#FFFF00/olm physics (on/off) (fallingblocks/water/lava)"
    enabled: "&#FFFF00◆ &fФизика {type}: &#FFFF00Включена"
    disabled: "&#FFFF00◆ &fФизика {type}: &#FFFF00Отключена"
    already-enabled: "&#FB8808▶ Стоп! &fФизика {type} &#FB8808уже &fвключена!"
    already-disabled: "&#FB8808▶ Стоп! &fФизика {type} &#FB8808уже &fотключена!"
    physics-disabled: "&#FB8808▶ Стоп! &fОптимизация физики &#FB8808отключена &fв конфигурации!"
    error: "&#FB8808▶ Стоп! &fПроизошла неизвестная &#FB8808ошибка &fпри выполнении команды!"

# Настройки оптимизации
# Параметры для оптимизации различных аспектов работы сервера
# Уровень оптимизации: Высокий
optimization:

  # Управление чанками
  # Настройки для оптимизации загрузки, выгрузки и обработки чанков
  # Уровень оптимизации: Высокий
  #
  # (Важно: Этот раздел создаёт файл preloaded-chunks.yml в папке плагина,
  # он хранит данные о предзагруженных чанках для оптимизации их загрузки
  # при телепортации или движении игроков. Не удаляйте этот файл, так как
  # он содержит важные данные для ускорения работы чанков и самого сервера)
  chunks:
    # Включение оптимизации чанков (true/false)
    # Если false, все настройки в этом разделе игнорируются
    enabled: true
    # Дистанция прогрузки чанков (в чанках)
    # Определяет, сколько чанков вокруг игрока загружается в память сервера
    # По умолчанию: 5, рекомендуемый диапазон: 3-8
    load-distance: 5
    # Задержка перед выгрузкой чанка (в тиках, 1 секунда = 20 тиков)
    # Устанавливает, через сколько тиков неактивный чанк выгружается
    # По умолчанию: 800 (40 секунд), рекомендуемый диапазон: 600-1200
    unload-delay: 800
    # Интервал сохранения кэша предзагруженных чанков (в тиках, 1 секунда = 20 тиков)
    # Контролирует, как часто данные о чанках записываются в preloaded-chunks.yml
    # По умолчанию: 6000 (5 минут), рекомендуемый диапазон: 1200-12000
    cache-save-interval-ticks: 6000
    # Динамическая регулировка дистанции прогрузки
    # Уменьшает дистанцию прогрузки при низком TPS
    # Уровень оптимизации: Высокий
    dynamic-load-distance:
      # Включение динамической регулировки (true/false)
      enabled: true
      # Порог TPS, ниже которого дистанция уменьшается
      # По умолчанию: 17.0, рекомендуемый диапазон: 14.0-18.0
      tps-threshold: 17.0
      # Минимальная дистанция прогрузки (в чанках)
      # По умолчанию: 3, рекомендуемый диапазон: 2-4
      min-distance: 3
    # Оптимизация загрузки чанков при телепортации
    # Настройки для управления загрузкой чанков при перемещении игроков
    # Уровень оптимизации: Средний
    teleport-chunk-loading:
      # Включение оптимизации загрузки чанков (true/false)
      enabled: true
      # Асинхронная загрузка чанков при телепортации
      # Снижает нагрузку на сервер за счёт постепенной загрузки
      # Уровень оптимизации: Высокий
      async-chunk-loading:
        # Включение асинхронной загрузки (true/false)
        enabled: true
        # Количество чанков, загружаемых за тик
        # По умолчанию: 2, рекомендуемый диапазон: 1-5
        chunks-per-tick: 2
      # Ограничение радиуса загрузки чанков при телепортации
      # По умолчанию: 4, рекомендуемый диапазон: 2-6
      max-chunk-radius: 4
    # Расширенная дальность прорисовки
    # Позволяет отправлять чанки за пределами серверной view-distance для прорисовки на клиенте
    # Чанки за пределами load-distance не тикингуются (без физики, мобов и т.д.)
    # Уровень оптимизации: Высокий
    extended-view-distance:
      # Максимальная дальность прорисовки (в чанках)
      # Определяет, сколько чанков будет отправлено клиенту
      # Должно быть больше или равно load-distance
      # По умолчанию: 10, рекомендуемый диапазон: 8-31
      # Внимание: Высокие значения (выше 31) требуют больше оперативной памяти и сети
      max-view-distance: 10
      # Задержка между отправкой чанков (в тиках, 1 секунда = 20 тиков)
      # Контролирует частоту отправки чанков для предотвращения перегрузки сети
      # По умолчанию: 40 (2 секунды), рекомендуемый диапазон: 20-100
      send-delay-ticks: 40
      # Максимальный объём данных, отправляемых игроку в секунду (в байтах)
      # Ограничивает скорость отправки чанков в зависимости от сети игрока
      # По умолчанию: 2097152 (2 МБ), рекомендуемый диапазон: 1048576-5242880 (1-5 МБ)
      player-send-max-bytes: 2097152

  # Управление спавном мобов
  # Настройки для контроля спавна мобов, включая естественный спавн и спавнеры
  # Уровень оптимизации: Высокий
  mob-spawning:
    # Включение оптимизации спавна мобов (true/false)
    # Если false, все настройки в этом разделе игнорируются
    enabled: true
    # Максимальное количество мобов в одном чанке
    # Ограничивает плотность мобов для снижения нагрузки
    # По умолчанию: 30, рекомендуемый диапазон: 20-60
    max-mobs-per-chunk: 30
    # Уменьшение спавна мобов при низком TPS
    # Замедляет спавн при падении производительности сервера
    # Уровень оптимизации: Высокий
    spawn-rate-reduction:
      # Включение уменьшения спавна (true/false)
      enabled: true
      # Порог TPS, ниже которого уменьшается спавн
      # По умолчанию: 18.0, рекомендуемый диапазон: 10.0-19.0
      tps-threshold: 18.0
      # Процент уменьшения частоты спавна
      # Например, 50 = спавн в 2 раза реже
      # По умолчанию: 50, рекомендуемый диапазон: 20-80
      reduction-percentage: 50
    # Ограничение спавнеров мобов
    # Контроль мобов, спавнящихся из спавнеров
    # Уровень оптимизации: Средний
    # (Внимание: Eсли ваши игроки часто используют большие фермы мобов на спавнерах, этот
    # параметр может нарушить их работу. Из-за этого по умолчанию данный параметр выключен)
    spawner-limit:
      # Включение ограничения спавнеров (true/false)
      enabled: false
      # Максимальное количество мобов от одного спавнера
      # По умолчанию: 6, рекомендуемый диапазон: 4-10
      max-mobs-per-spawner: 6
      # Задержка между спавнами (в тиках, 1 секунда = 20 тиков)
      # По умолчанию: 200 (10 секунд), рекомендуемый диапазон: 100-400
      spawn-delay: 200
      # Радиус проверки мобов вокруг спавнера (в блоках)
      # Ограничивает спавн, если в радиусе уже есть мобы
      # По умолчанию: 16, рекомендуемый диапазон: 8-32
      radius-check: 16

  # Оптимизация редстоуна
  # Настройки для снижения нагрузки от редстоун-механизмов
  # Уровень оптимизации: Высокий
  # (Внимание: Активация этого параметра может нарушить работу обычных редстоун-схем
  # и создать значительную нагрузку на сервер. Используйте его на свой страх и риск.
  # Однако, если вам нужно избавиться от лагов, вызванных сложными редстоун-схемами,
  # которые могут отключить сервер, включение этого параметра будет лучшим решением)
  redstone:
    # Включение оптимизации редстоуна (true/false)
    # Если false, все настройки в этом разделе игнорируются
    enabled: true
    # Максимальное количество обновлений редстоуна за тик
    # Ограничивает частоту срабатывания редстоун-механизмов
    # По умолчанию: 4000, рекомендуемый диапазон: 2000-10000
    max-updates-per-tick: 4000
    # Критический порог TPS для глобального отключения редстоуна
    # Позволяет полностью отключать все редстоун-механизмы, если TPS снизится до значения в параметре
    # По умолчанию: 6.0, рекомендуемый диапазон: 3-10
    critical-tps-threshold: 6.0
    # Отключение редстоуна при низком TPS
    # Полностью останавливает редстоун при падении производительности
    # Уровень оптимизации: Высокий
    disable-during-low-tps:
      # Включение отключения редстоуна (true/false)
      enabled: true
      # Порог TPS для отключения редстоуна
      # По умолчанию: 12.0, рекомендуемый диапазон: 8.0-14.0
      tps-threshold: 12.0
    # Белый список блоков, исключаемых из ограничений
    # Эти блоки (например, поршни) не ограничиваются
    # Уровень оптимизации: Низкий
    whitelist-blocks: []
    # Обнаружение лаг-машин
    # Отслеживает чрезмерную активность редстоуна для предотвращения лагов
    # Уровень оптимизации: Высокий
    lag-detection:
      # Включение обнаружения лаг-машин (true/false)
      enabled: true
      # Порог количества обновлений редстоуна за 10 секунд
      # Если превышен, редстоун в чанке отключается
      # По умолчанию: 5000, рекомендуемый диапазон: 5000-15000
      activity-threshold: 5000
      # Время отключения редстоуна в чанке (в секундах)
      # По умолчанию: 120, рекомендуемый диапазон: 60-180
      cooldown-seconds: 120
      # Минимальное количество редстоун-компонентов для обнаружения
      # По умолчанию: 8, рекомендуемый диапазон: 5-15
      min-redstone-components: 8
      # Разрушение компонентов лаг-машины
      # При обнаружении лаг-машины удаляет небольшое количество ключевых блоков
      destroy-components:
        # Включение разрушения компонентов (true/false)
        enabled: true
        # Максимальное количество блоков для удаления в чанке
        # По умолчанию: 20, рекомендуемый диапазон: 30-100
        max-destroyed: 20
      # Список отслеживаемых блоков для обнаружения лаг-машин
      # Включает блоки, которые могут быть частью сложных схем
      monitored-blocks:
        - REDSTONE_TORCH
        - REDSTONE_WIRE
        - REPEATER
        - OBSERVER
        - COMPARATOR
        - POWERED_RAIL
        - REDSTONE_BLOCK
        - TRAPDOOR
    # Ограничение редстоуна по радиусу от игроков
    # Отключает редстоун в чанках, где нет игроков в радиусе
    # Уровень оптимизации: Средний
    player-radius-check:
      # Включение проверки радиуса игроков (true/false)
      enabled: true
      # Радиус проверки игроков (в блоках)
      # По умолчанию: 128, рекомендуемый диапазон: 64-256
      radius: 128
    # Сканирование редстоун-цепей
    # Периодически проверяет чанки на наличие лаг-структур (например, редстоун-клоков)
    # Уровень оптимизации: Высокий
    pattern-scan:
      # Включение сканирования редстоун-цепей (true/false)
      enabled: true
      # Интервал сканирования (в тиках, 1 секунда = 20 тиков)
      # По умолчанию: 2000 (100 сек), рекомендуемый диапазон: 1200-10000
      scan-interval-ticks: 2000

  # Оптимизация физики
  # Настройки для управления физическими процессами (вода, лава, падающие блоки, паутины)
  # Уровень оптимизации: Средний
  physics:
    # Включение оптимизации физики (true/false)
    # Если false, все настройки в этом разделе игнорируются
    enabled: true
    # Отключение падающих блоков (песок, гравий) (true/false)
    # Если включено, блоки не падают, снижая нагрузку
    # Уровень оптимизации: Средний
    disable-falling-blocks: false
    # Отключение течения воды (true/false)
    # Если включено, вода не распространяется
    # Уровень оптимизации: Средний
    disable-water-flow: false
    # Отключение течения лавы (true/false)
    # Если включено, лава не распространяется
    # Уровень оптимизации: Средний
    disable-lava-flow: false
    # Ограничение обновлений люков
    # Контролирует частоту физических событий для люков, чтобы предотвратить лаг-машины
    # Уровень оптимизации: Высокий
    trapdoor-limit:
      # Включение ограничения обновлений люков (true/false)
      enabled: true
      # Максимальное количество обновлений люков в чанке за тик
      # По умолчанию: 100, рекомендуемый диапазон: 50-200
      max-updates-per-tick: 100
    # Ограничение падающих блоков
    # Контролирует количество падающих блоков (например, песок, гравий) и статичных блоков в чанке
    # Предотвращает лаг-машины, использующие падающий песок на паутинах
    # Уровень оптимизации: Высокий
    falling-block-limit:
      # Включение ограничения падающих блоков (true/false)
      enabled: true
      # Максимальное количество падающих блоков в чанке
      # По умолчанию: 20, рекомендуемый диапазон: 5-35
      max-falling-blocks-per-chunk: 20
      # Максимальное количество статичных блоков песка или гравия в чанке
      # Ограничивает плотность песка/гравия для предотвращения клиентских лагов
      # По умолчанию: 200, рекомендуемый диапазон: 200-400
      max-static-sand-per-chunk: 300
      # Разрушение статичных блоков песка или гравия при обнаружении лаг-машины (true/false)
      # Если включено, избыточные блоки песка/гравия удаляются
      # Уровень оптимизации: Высокий
      destroy-static-sand: true
    # Обнаружение паутин
    # Контролирует количество паутин в чанке, чтобы предотвратить лаг-машины
    # Уровень оптимизации: Высокий
    cobweb-detection:
      # Включение обнаружения паутин (true/false)
      enabled: true
      # Максимальное количество паутин в чанке
      # По умолчанию: 20, рекомендуемый диапазон: 10-50
      max-cobwebs-per-chunk: 20
      # Разрушение паутин при обнаружении лаг-машины (true/false)
      destroy-cobwebs: true
    # Исключенные миры, где физика не ограничивается
    # Например, для творческих миров или лобби
    # Уровень оптимизации: Низкий
    excluded-worlds:
      - World_1
      - World2

  # Оптимизация сущностей
  # Настройки для управления сущностями (мобы, предметы, лодки, вагонетки и т.д.)
  # Уровень оптимизации: Высокий
  entities:
    # Включение оптимизации сущностей (true/false)
    enabled: true
    # Максимальное количество сущностей в одном чанке
    # Ограничивает плотность сущностей для снижения нагрузки
    # По умолчанию: 100, рекомендуемый диапазон: 50-200
    max-entities-per-chunk: 100
    # Время до удаления дропа (в тиках, 1 секунда = 20 тиков)
    # Удаляет предметы на земле через указанное время
    # По умолчанию: 6000 (5 минут), рекомендуемый диапазон: 1200-12000
    remove-drops-after: 6000
    # Радиус проверки игроков для удаления дропов (в блоках)
    # Дропы удаляются только если нет игроков в радиусе
    # По умолчанию: 32, рекомендуемый диапазон: 16-64
    player-radius: 32
    # Отключение ИИ мобов при низком TPS
    # Замораживает поведение мобов, снижая нагрузку
    # Уровень оптимизации: Высокий
    disable-ai-low-tps:
      # Включение отключения ИИ (true/false)
      enabled: true
      # Порог TPS для отключения ИИ мобов
      # По умолчанию: 14.0, рекомендуемый диапазон: 8.0-16.0
      tps-threshold: 14.0
    # Ограничение вагонеток
    # Контролирует количество вагонеток в чанке, чтобы предотвратить лаг-машины
    # Уровень оптимизации: Высокий
    minecart-limit:
      # Включение ограничения вагонеток (true/false)
      enabled: true
      # Максимальное количество вагонеток в чанке
      # По умолчанию: 10, рекомендуемый диапазон: 5-20
      max-minecarts-per-chunk: 10
      # Порог TPS, ниже которого активируется удаление вагонеток
      # По умолчанию: 15.0, рекомендуемый диапазон: 10.0-18.0
      tps-threshold: 15.0
    # Обнаружение рельс
    # Контролирует количество рельс в чанке, чтобы предотвратить лаг-машины с вагонетками
    # Уровень оптимизации: Высокий
    rail-detection:
      # Включение обнаружения рельс (true/false)
      enabled: true
      # Максимальное количество рельс в чанке
      # По умолчанию: 50, рекомендуемый диапазон: 20-100
      max-rails-per-chunk: 50
      # Разрушение рельс при обнаружении лаг-машины (true/false)
      destroy-rails: true

  # Оптимизация хранилищ
  # Настройки для управления доступом к сундукам, печам и другим видам хранилищ
  # Уровень оптимизации: Средний
  containers:
    # Включение оптимизации хранилищ (true/false)
    enabled: true
    # Максимальное количество одновременных открытых хранилищ в чанке
    # По умолчанию: 10, рекомендуемый диапазон: 5-20
    max-open-containers-per-chunk: 10
    # Задержка между открытиями хранилищ (в тиках, 1 секунда = 20 тиков)
    # По умолчанию: 5, рекомендуемый диапазон: 1-15
    open-delay-ticks: 5
    # Отключение обновления хранилищ при низком TPS
    # Уровень оптимизации: Высокий
    disable-on-low-tps:
      # Включение отключения обновлений (true/false)
      enabled: false
      # Порог TPS для отключения обновлений хранилищ
      # По умолчанию: 14.0, рекомендуемый диапазон: 10.0-16.0
      tps-threshold: 14.0

  # Оптимизация генерации мира
  # Настройки для управления генерацией и прогрузкой мира
  # Уровень оптимизации: Высокий
  world-generation:
    # Включение оптимизации генерации мира (true/false)
    enabled: true
    # Предварительная генерация чанков (true/false)
    # Если включено, чанки генерируются заранее для снижения нагрузки
    # Уровень оптимизации: Высокий
    pregenerate-chunks:
      # Включение предварительной генерации (true/false)
      # Отключено по умолчанию для больших миров
      enabled: false
      # Количество чанков, генерируемых за один тик
      # По умолчанию: 2, рекомендуемый диапазон: 1-5
      # Меньшее значение снижает нагрузку на сервер
      chunks-per-tick: 2
    # Радиус предварительной генерации (в блоках)
    # Определяет область для предварительной генерации
    # По умолчанию: 500, рекомендуемый диапазон: 200-1000
    pregenerate-radius: 500